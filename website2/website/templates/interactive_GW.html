<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play Live with Parameters</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <style>

        h1 {color: darkmagenta; /* Change 'blue' to the color you desire */
                }
        label {
            display: inline-block;
            width: 200px; /* Adjusted width to match the other input fields */
            margin-bottom: 5px;
        }
        select,
        input[type="text"] {
            width: 204px; /* Adjusted width to match the other input fields */
            padding: 5px;
            margin-bottom: 10px;
        }
        input[type="submit"] {
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
            margin-left: 200px; /* Adjusted margin-left to match the label width */
        }

        .center {
            text-align: center;
        }
        
        .center h1 {
            color:black;
            font-size: 48px;
            font-weight: bold;
        }

        .center nav ul {
            text-align: center;
            list-style-type: none;
            padding: 0;
        }

        .center nav ul li {
            display: inline;
            margin-right: 60px;
            
        }

        .center nav ul li a {
            color: red;
            font-size: 28px;
            font-weight: bold;
            text-decoration: none;
        }
    </style>



</head>
<body>

    <div class="center">
        <header>
            <h1>PlayGW</h1>
            <nav>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/interactive_GW">Interactive GW</a></li>
                    <li><a href="/download_GW">Download videos</a></li>
                </ul>
            </nav>
        </header>
    </div>
    <!-- Horizontal line -->
    <hr class="horizontal-line">



    <h1>Play Live with Parameters</h1>
    <label for="parameter-slider">Parameter:</label>
    <input type="range" min="0" max="10" value="5" class="slider" id="parameter-slider">
    <div id="graph"></div>

    <script>
        var slider = document.getElementById("parameter-slider");
        var graphDiv = document.getElementById('graph');

        slider.addEventListener('input', function () {
            updateGraph(this.value);
        });

        function updateGraph(parameter) {
            fetch('/interactive_GW_update_route', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: 'parameter=' + parameter
            })
            .then(response => response.json())
            .then(data => {
                Plotly.newPlot(graphDiv, [{
                    x: data.x_values,
                    y: data.y_values,
                    type: 'scatter'
                }]);
            });
        }

        updateGraph(slider.value);
    </script>
</body>
</html>
