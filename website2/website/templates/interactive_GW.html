<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive_GW</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

    <style>

        h1 {color: darkmagenta; /* Change 'blue' to the color you desire */
                }
        label {
            display: inline-block;
            width: 200px; /* Adjusted width to match the other input fields */
            margin-bottom: 5px;
        }
        select,
        input[type="text"] {
            width: 204px; /* Adjusted width to match the other input fields */
            padding: 5px;
            margin-bottom: 10px;
        }
        input[type="submit"] {
            padding: 10px 20px;
            background-color: #007bff;
            color: #fff;
            border: none;
            cursor: pointer;
            margin-left: 200px; /* Adjusted margin-left to match the label width */
        }

        .center {
            text-align: center;
        }
        
        .center h1 {
            color:black;
            font-size: 48px;
            font-weight: bold;
        }

        .center nav ul {
            text-align: center;
            list-style-type: none;
            padding: 0;
        }

        .center nav ul li {
            display: inline;
            margin-right: 60px;
            
        }

        .center nav ul li a {
            color: red;
            font-size: 28px;
            font-weight: bold;
            text-decoration: none;
        }
    </style>



</head>
<body>

    <div class="center">
        <header>
            <h1>PlayGW</h1>
            <nav>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/interactive_GW">Interactive GW</a></li>
                    <li><a href="/download_GW">Download videos</a></li>
                </ul>
            </nav>
        </header>
    </div>
    <!-- Horizontal line -->
    <hr class="horizontal-line">

    <h1>Generate GW for BBH parameters</h1>

    <label for="mass_ratio_slider">Mass Ratio:</label>
    <input type="range" min="1" max="6" value="1" class="slider" id="mass_ratio_slider">
    <br>

    <label for="chiAx_slider">ChiAx :</label>
    <input type="range" min="-1" max="1" value="0" class="slider" id="chiAx_slider">
    <br>

    <label for="chiAy_slider">ChiAy :</label>
    <input type="range" min="-1" max="1" value="0" class="slider" id="chiAy_slider">
    <br>
    
    <label for="chiAz_slider">ChiAz :</label>
    <input type="range" min="-1" max="1" value="0" class="slider" id="chiAz_slider">
    <br>
    
    <label for="chiBx_slider">ChiBx :</label>
    <input type="range" min="-1" max="1" value="0" class="slider" id="chiBx_slider">
    <br>
    
    <label for="chiBy_slider">ChiBy :</label>
    <input type="range" min="-1" max="1" value="0" class="slider" id="chiBy_slider">
    <br>
    
    <label for="chiBz_slider">ChiBz :</label>
    <input type="range" min="-1" max="1" value="0" class="slider" id="chiBz_slider">
    <br>

    <div id="GW_interactive_graph"></div>


<script>
    var graphDiv = document.getElementById('GW_interactive_graph');

    const mass_ratio = 1;
    const chiAx = 0;
    const chiAy = 0;
    const chiAz = 0;
    const chiBx = 0;
    const chiBy = 0;
    const chiBz = 0;

    fetch('/interactive_GW_update_route', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
        },
        body: '&mass_ratio=' + mass_ratio + '&chiAx=' + chiAx + '&chiAy=' + chiAy + '&chiAz=' + chiAz + '&chiBx=' + chiBx + '&chiBy=' + chiBy + '&chiBz=' + chiBz
    })
    .then(response => response.json())
    .then(data => {
        Plotly.newPlot(graphDiv, [{
            x: data.x_values,
            y: data.y_values,
            type: 'scatter'
        }]);
    });
</script>

<script>
    var mass_ratio_slider   = document.getElementById("mass_ratio_slider");
    var chiAx_slider        = document.getElementById("chiAx_slider");
    var chiAy_slider        = document.getElementById("chiAy_slider");
    var chiAz_slider        = document.getElementById("chiAz_slider");
    var chiBx_slider        = document.getElementById("chiBx_slider");
    var chiBy_slider        = document.getElementById("chiBy_slider");
    var chiBz_slider        = document.getElementById("chiBz_slider");

    var graphDiv = document.getElementById('GW_interactive_graph');

    mass_ratio_slider.addEventListener('input', function () {
        updateGraph({
        mass_ratio: mass_ratio_slider.value,
        chiAx: chiAx_slider.value,
        chiAy: chiAy_slider.value,
        chiAz: chiAz_slider.value,
        chiBx: chiBx_slider.value,
        chiBy: chiBy_slider.value,
        chiBz: chiBz_slider.value,
    });
    });

    chiAx_slider.addEventListener('input', function () {
        updateGraph({
        mass_ratio: mass_ratio_slider.value,
        chiAx: chiAx_slider.value,
        chiAy: chiAy_slider.value,
        chiAz: chiAz_slider.value,
        chiBx: chiBx_slider.value,
        chiBy: chiBy_slider.value,
        chiBz: chiBz_slider.value,
    });
    });

    chiAy_slider.addEventListener('input', function () {
        updateGraph({
        mass_ratio: mass_ratio_slider.value,
        chiAx: chiAx_slider.value,
        chiAy: chiAy_slider.value,
        chiAz: chiAz_slider.value,
        chiBx: chiBx_slider.value,
        chiBy: chiBy_slider.value,
        chiBz: chiBz_slider.value,
    });
    });

    chiAz_slider.addEventListener('input', function () {
        updateGraph({
        mass_ratio: mass_ratio_slider.value,
        chiAx: chiAx_slider.value,
        chiAy: chiAy_slider.value,
        chiAz: chiAz_slider.value,
        chiBx: chiBx_slider.value,
        chiBy: chiBy_slider.value,
        chiBz: chiBz_slider.value,
    });
    });

    chiBx_slider.addEventListener('input', function () {
        updateGraph({
        mass_ratio: mass_ratio_slider.value,
        chiAx: chiAx_slider.value,
        chiAy: chiAy_slider.value,
        chiAz: chiAz_slider.value,
        chiBx: chiBx_slider.value,
        chiBy: chiBy_slider.value,
        chiBz: chiBz_slider.value,
    });
    });

    chiBy_slider.addEventListener('input', function () {
        updateGraph({
        mass_ratio: mass_ratio_slider.value,
        chiAx: chiAx_slider.value,
        chiAy: chiAy_slider.value,
        chiAz: chiAz_slider.value,
        chiBx: chiBx_slider.value,
        chiBy: chiBy_slider.value,
        chiBz: chiBz_slider.value,
    });
    });

    chiBz_slider.addEventListener('input', function () {
        updateGraph({
        mass_ratio: mass_ratio_slider.value,
        chiAx: chiAx_slider.value,
        chiAy: chiAy_slider.value,
        chiAz: chiAz_slider.value,
        chiBx: chiBx_slider.value,
        chiBy: chiBy_slider.value,
        chiBz: chiBz_slider.value,
    });
    });


    function updateGraph(sliderValues) {
        const mass_ratio = sliderValues.mass_ratio;
        const chiAx = sliderValues.chiAx;
        const chiAy = sliderValues.chiAy;
        const chiAz = sliderValues.chiAz;
        const chiBx = sliderValues.chiBx;
        const chiBy = sliderValues.chiBy;
        const chiBz = sliderValues.chiBz;


        fetch('/interactive_GW_update_route', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
            },
            body: '&mass_ratio=' + mass_ratio + '&chiAx=' + chiAx + '&chiAy=' + chiAy + '&chiAz=' + chiAz + '&chiBx=' + chiBx + '&chiBy=' + chiBy + '&chiBz=' + chiBz
        })
        .then(response => response.json())
        .then(data => {
            Plotly.newPlot(graphDiv, [{
                x: data.x_values,
                y: data.y_values,
                type: 'scatter'
            }]);
        });
    }

updateGraph(sliderValues);
</script>
</body>
</html>
